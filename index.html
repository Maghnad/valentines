<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï Be My Valentine üíï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #ffcce0 0%, #ffe0ec 25%, #fff0f5 50%, #ffe6f0 75%, #ffd6e8 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .container {
            text-align: center;
            position: relative;
            width: 100%;
            max-width: 1200px;
            height: auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
        }

        /* Floating hearts background */
        .heart {
            position: absolute;
            font-size: 30px;
            animation: float 6s infinite ease-in-out;
            opacity: 0.7;
            filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.3));
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0) rotate(0deg) scale(1); 
                opacity: 0.7;
            }
            25% {
                transform: translateY(-15px) rotate(5deg) scale(1.1);
                opacity: 0.9;
            }
            50% { 
                transform: translateY(-25px) rotate(-5deg) scale(1.05); 
                opacity: 0.8;
            }
            75% {
                transform: translateY(-15px) rotate(3deg) scale(1.08);
                opacity: 0.85;
            }
        }

        .game-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            animation: fadeIn 1s ease-in-out;
        }

        .teddy-image-container {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.4);
            border: 5px solid #ff69b4;
            background: linear-gradient(145deg, #ffffff, #fff5f9);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .teddy-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .teddy-placeholder {
            font-size: 80px;
            animation: bounce 2s infinite ease-in-out;
        }

        @media (max-width: 768px) {
            .teddy-image-container {
                width: 150px;
                height: 150px;
            }

            .teddy-placeholder {
                font-size: 60px;
            }
        }

        @media (max-width: 480px) {
            .teddy-image-container {
                width: 120px;
                height: 120px;
            }

            .teddy-placeholder {
                font-size: 50px;
            }
        }

        .game-title {
            font-size: 2.5em;
            color: #ff69b4;
            text-shadow: 3px 3px 6px rgba(255, 105, 180, 0.3), 0 0 20px rgba(255, 182, 193, 0.4);
            margin-bottom: 10px;
            animation: titleWobble 3s infinite ease-in-out;
        }

        @media (max-width: 768px) {
            .game-title {
                font-size: 1.8em;
            }
        }

        .game-instruction {
            font-size: 1.3em;
            color: #ff1493;
            margin-bottom: 20px;
            text-align: center;
            max-width: 600px;
            padding: 0 20px;
        }

        @media (max-width: 768px) {
            .game-instruction {
                font-size: 1em;
                padding: 0 10px;
            }
        }

        .game-canvas-container {
            position: relative;
            border: 5px solid #ff69b4;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(255, 105, 180, 0.4);
            background: linear-gradient(135deg, #fff0f5, #ffe6f0);
            max-width: 100%;
            overflow: hidden;
        }

        #gameCanvas {
            display: block;
            border-radius: 15px;
            cursor: none;
            max-width: 100%;
            height: auto;
        }

        @media (max-width: 768px) {
            .game-canvas-container {
                border: 3px solid #ff69b4;
            }
        }

        .game-stats {
            display: flex;
            gap: 40px;
            font-size: 1.5em;
            color: #ff1493;
            font-weight: bold;
            margin-top: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .game-stats {
                font-size: 1.2em;
                gap: 20px;
            }
        }

        .stat-item {
            background: linear-gradient(135deg, #ffffff, #fff5f9);
            padding: 15px 30px;
            border-radius: 30px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
            animation: pulse 2s infinite ease-in-out;
        }

        @media (max-width: 768px) {
            .stat-item {
                padding: 10px 20px;
            }
        }

        .game-over-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            padding: 40px 60px;
            border-radius: 30px;
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 15px 50px rgba(255, 105, 180, 0.6);
            animation: popIn 0.5s ease-out;
            z-index: 100;
            max-width: 90%;
        }

        @media (max-width: 768px) {
            .game-over-message {
                padding: 30px 40px;
                font-size: 1.5em;
            }
        }

        @media (max-width: 480px) {
            .game-over-message {
                padding: 20px 30px;
                font-size: 1.2em;
            }
        }

        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .love-meter {
            width: 80%;
            max-width: 500px;
            height: 40px;
            background: linear-gradient(135deg, #ffc0cb, #ffb3d9);
            border-radius: 25px;
            overflow: hidden;
            box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.2);
            margin: 20px 0;
        }

        .love-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff69b4, #ff1493, #ff69b4);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
            border-radius: 25px;
            transition: width 1s ease-out;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.6);
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Question Page */
        .question-page {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            animation: fadeIn 1s ease-in-out;
        }

        .question-image-container {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.4);
            border: 5px solid #ff69b4;
            background: linear-gradient(145deg, #ffffff, #fff5f9);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .question-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .question-placeholder {
            display: flex;
            gap: 20px;
        }

        .question-placeholder .bear {
            width: 80px;
            height: 80px;
            font-size: 50px;
        }

        @media (max-width: 768px) {
            .question-image-container {
                width: 180px;
                height: 180px;
            }

            .question-placeholder .bear {
                width: 60px;
                height: 60px;
                font-size: 35px;
            }
        }

        @media (max-width: 480px) {
            .question-image-container {
                width: 150px;
                height: 150px;
            }

            .question-placeholder .bear {
                width: 50px;
                height: 50px;
                font-size: 30px;
            }
        }

        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: scale(0.8); 
            }
            to { 
                opacity: 1; 
                transform: scale(1); 
            }
        }

        .bears-container {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .bear {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(145deg, #ffffff, #fff5f9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
            animation: bounce 2s infinite ease-in-out;
            transition: all 0.3s ease;
        }

        @media (max-width: 768px) {
            .bear {
                width: 100px;
                height: 100px;
                font-size: 50px;
            }
        }

        .bear:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .bear:nth-child(2) {
            animation-delay: 0.3s;
        }

        @keyframes bounce {
            0%, 100% { 
                transform: translateY(0) rotate(0deg); 
            }
            25% {
                transform: translateY(-10px) rotate(-3deg);
            }
            50% { 
                transform: translateY(-20px) rotate(0deg); 
            }
            75% {
                transform: translateY(-10px) rotate(3deg);
            }
        }

        h1 {
            font-size: 3em;
            color: #ff69b4;
            text-shadow: 3px 3px 6px rgba(255, 105, 180, 0.3), 0 0 20px rgba(255, 182, 193, 0.4);
            margin: 20px 0;
            animation: titleWobble 3s infinite ease-in-out;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5em;
            }
        }

        @keyframes titleWobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-2deg) scale(1.02); }
            50% { transform: rotate(0deg) scale(1); }
            75% { transform: rotate(2deg) scale(1.02); }
        }

        .buttons-container {
            display: flex;
            gap: 120px;
            margin-top: 30px;
            position: relative;
            min-height: 80px;
            align-items: center;
        }

        button {
            padding: 20px 40px;
            font-size: 1.5em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
        }

        @media (max-width: 768px) {
            button {
                padding: 15px 30px;
                font-size: 1.2em;
            }
        }

        @media (max-width: 480px) {
            button {
                padding: 12px 25px;
                font-size: 1em;
            }
        }

        #yesBtn {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            transform-origin: center;
            animation: yesGlow 2s infinite ease-in-out;
        }

        @keyframes yesGlow {
            0%, 100% { 
                box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4), 0 0 20px rgba(255, 105, 180, 0.2);
            }
            50% { 
                box-shadow: 0 8px 25px rgba(255, 105, 180, 0.6), 0 0 30px rgba(255, 105, 180, 0.4);
            }
        }

        #yesBtn:hover {
            transform: scale(1.1) rotate(-3deg);
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.6), 0 0 40px rgba(255, 105, 180, 0.5);
        }

        #yesBtn:active {
            transform: scale(0.95);
        }

        .start-btn, .continue-btn {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            animation: yesGlow 2s infinite ease-in-out;
            margin-top: 20px;
        }

        .start-btn:hover, .continue-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.6), 0 0 40px rgba(255, 105, 180, 0.5);
        }

        #noBtn {
            background: linear-gradient(135deg, #ffc0cb, #ffb3d9);
            color: #ff69b4;
            position: relative;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        #noBtn:hover {
            background: linear-gradient(135deg, #ffb3d9, #ffc0cb);
            transform: scale(1.05);
        }

        /* Success Page */
        .success-page {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 40px;
            animation: fadeIn 1.5s ease-in-out;
        }

        .success-image-container {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(255, 105, 180, 0.5);
            border: 6px solid #ff69b4;
            background: linear-gradient(145deg, #ffffff, #fff5f9);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .success-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .success-placeholder {
            display: flex;
            gap: 30px;
        }

        .success-placeholder .dancing-bear {
            width: 120px;
            height: 120px;
            font-size: 70px;
        }

        @media (max-width: 768px) {
            .success-image-container {
                width: 220px;
                height: 220px;
            }

            .success-placeholder .dancing-bear {
                width: 90px;
                height: 90px;
                font-size: 50px;
            }
        }

        @media (max-width: 480px) {
            .success-image-container {
                width: 180px;
                height: 180px;
            }

            .success-placeholder .dancing-bear {
                width: 70px;
                height: 70px;
                font-size: 40px;
            }
        }

        .dancing-bears {
            display: flex;
            gap: 40px;
            margin-bottom: 20px;
        }

        .dancing-bear {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(145deg, #ffffff, #fff5f9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 100px;
            box-shadow: 0 15px 40px rgba(255, 105, 180, 0.4);
            animation: dance 0.6s infinite alternate ease-in-out;
        }

        .dancing-bear:nth-child(2) {
            animation-delay: 0.3s;
        }

        @keyframes dance {
            0% { 
                transform: rotate(-15deg) translateY(0) scale(1); 
            }
            50% {
                transform: rotate(0deg) translateY(-15px) scale(1.05);
            }
            100% { 
                transform: rotate(15deg) translateY(-30px) scale(1.1); 
            }
        }

        .success-message {
            font-size: 2.5em;
            color: #ff1493;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
            animation: wiggle 1s infinite ease-in-out;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg) scale(1.05); }
            50% { transform: rotate(0deg) scale(1); }
            75% { transform: rotate(5deg) scale(1.05); }
        }

        .yay-message {
            font-size: 3em;
            color: #ff69b4;
            font-weight: bold;
            animation: pulse 1.2s infinite ease-in-out;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }

        @keyframes pulse {
            0%, 100% { 
                transform: scale(1); 
                text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
            }
            50% { 
                transform: scale(1.15); 
                text-shadow: 0 0 30px rgba(255, 105, 180, 0.8);
            }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff69b4;
            animation: confetti-fall 3s linear infinite;
            border-radius: 50%;
        }

        @keyframes confetti-fall {
            0% { 
                transform: translateY(-100vh) rotate(0deg) scale(1); 
                opacity: 1; 
            }
            50% {
                transform: translateY(0) rotate(180deg) scale(1.2);
                opacity: 0.8;
            }
            100% { 
                transform: translateY(100vh) rotate(360deg) scale(0.8); 
                opacity: 0; 
            }
        }

        .sparkle {
            position: absolute;
            font-size: 30px;
            animation: sparkle 1.5s infinite ease-in-out;
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.8));
        }

        @keyframes sparkle {
            0%, 100% { 
                opacity: 0; 
                transform: scale(0) rotate(0deg); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.2) rotate(180deg); 
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Floating hearts background -->
        <div class="heart" style="top: 10%; left: 10%;">üíï</div>
        <div class="heart" style="top: 20%; right: 15%; animation-delay: 1s;">üíñ</div>
        <div class="heart" style="bottom: 15%; left: 20%; animation-delay: 2s;">üíó</div>
        <div class="heart" style="bottom: 25%; right: 10%; animation-delay: 3s;">üíù</div>
        <div class="heart" style="top: 50%; left: 5%; animation-delay: 1.5s;">üíì</div>
        <div class="heart" style="top: 60%; right: 8%; animation-delay: 2.5s;">üíï</div>

        <!-- Game Page -->
        <div class="game-page" id="gamePage">
            <div class="teddy-image-container">
                <!-- You can replace this with your teddy image -->
                <img src="" alt="Teddy" id="teddyImage" style="display: none;" onerror="this.style.display='none'; document.getElementById('teddyPlaceholder').style.display='flex';">
                <div class="teddy-placeholder" id="teddyPlaceholder">üß∏</div>
            </div>
            <h1 class="game-title">Test Your Love! üíï</h1>
            <p class="game-instruction">
                Aim your Love Gun and shoot hearts! üíòüî´<br>
                Small hearts = 3 points | Big hearts = 12 points
            </p>
            <button class="start-btn" id="startGameBtn">Start Game! üéÆ</button>
            <div class="game-canvas-container" id="gameContainer">
                <canvas id="gameCanvas" width="600" height="500"></canvas>
            </div>
            <div class="game-stats">
                <div class="stat-item">Score: <span id="score">0</span></div>
                <div class="stat-item">Time: <span id="timer">10</span>s</div>
            </div>
        </div>

        <!-- Question Page -->
        <div class="question-page" id="questionPage">
            <div class="bears-container">
                <div class="bear">üß∏</div>
                <div class="bear">üß∏</div>
            </div>
            <h1>Will you be my Valentine?</h1>
            <div class="buttons-container" id="buttonsContainer">
                <button id="yesBtn">Yes! üíï</button>
                <button id="noBtn">No</button>
            </div>
        </div>

        <!-- Success Page -->
        <div class="success-page" id="successPage">
            <div class="success-image-container">
                <img src="" alt="Success" id="successImage" style="display: none;" onerror="this.style.display='none'; document.getElementById('successPlaceholder').style.display='flex';">
                <div class="success-placeholder" id="successPlaceholder">
                    <div class="dancing-bear">üß∏</div>
                    <div class="dancing-bear">üß∏</div>
                </div>
            </div>
            <div class="success-message">I knowww! üòä</div>
            <div class="yay-message">üéâ Yay! Happy Valentine's Day! üéâ</div>
            <div class="sparkle" style="top: 20%; left: 20%;">‚ú®</div>
            <div class="sparkle" style="top: 30%; right: 20%; animation-delay: 0.5s;">‚ú®</div>
            <div class="sparkle" style="bottom: 20%; left: 25%; animation-delay: 1s;">‚ú®</div>
            <div class="sparkle" style="bottom: 30%; right: 25%; animation-delay: 1.5s;">‚ú®</div>
        </div>
    </div>

    <script>
        // Page elements
        const gamePage = document.getElementById('gamePage');
        const questionPage = document.getElementById('questionPage');
        const successPage = document.getElementById('successPage');
        const gameContainer = document.getElementById('gameContainer');
        
        // Game elements
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');
        const timerElement = document.getElementById('timer');

        // Game variables
        let score = 0;
        let timeLeft = 10;
        let gameRunning = false;
        let gameStarted = false;
        let hearts = [];
        let fires = [];
        let particles = [];
        let gunX = canvas.width / 2;
        let gunY = canvas.height - 60;
        let canShoot = true;
        let shootCooldown = 250; // 250ms cooldown - slightly faster

        // Heart object
        class Heart {
            constructor() {
                this.x = Math.random() * (canvas.width - 60) + 30;
                this.y = -50;
                
                // 25% chance for big heart (increased from 10%)
                this.isBig = Math.random() < 0.25;
                this.size = this.isBig ? 45 : 28; // Slightly bigger
                this.points = this.isBig ? 12 : 3; // More balanced scoring
                
                // Medium speed
                this.speed = 2.5 + Math.random() * 2.5; // Slower than before
                this.horizontalSpeed = (Math.random() - 0.5) * 1.5; // Less erratic
                
                this.emoji = this.isBig ? 'üíù' : ['üíï', 'üíñ', 'üíó', 'üíì'][Math.floor(Math.random() * 4)];
                this.rotation = 0;
                this.rotationSpeed = (Math.random() - 0.5) * 0.08; // Slower rotation
            }

            update() {
                this.y += this.speed;
                this.x += this.horizontalSpeed;
                this.rotation += this.rotationSpeed;
                
                // Bounce off walls
                if (this.x < 20 || this.x > canvas.width - 20) {
                    this.horizontalSpeed *= -1;
                }
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                ctx.font = `${this.size}px Arial`;
                ctx.fillText(this.emoji, -this.size/2, this.size/2);
                ctx.restore();
            }

            isOffScreen() {
                return this.y > canvas.height + 50;
            }
        }

        // Fire/Heart bullet object
        class Fire {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.speed = 11; // Slightly faster
                this.size = 20; // Bigger hitbox
            }

            update() {
                this.y -= this.speed;
            }

            draw() {
                ctx.font = `${this.size}px Arial`;
                ctx.fillText('üíò', this.x - 10, this.y);
            }

            isOffScreen() {
                return this.y < -30;
            }
        }

        // Particle effect
        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 8;
                this.vy = (Math.random() - 0.5) * 8;
                this.life = 30;
                this.emoji = '‚ú®';
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.life--;
            }

            draw() {
                ctx.globalAlpha = this.life / 30;
                ctx.font = '20px Arial';
                ctx.fillText(this.emoji, this.x, this.y);
                ctx.globalAlpha = 1;
            }

            isDead() {
                return this.life <= 0;
            }
        }

        // Love Gun
        function drawGun() {
            ctx.save();
            ctx.translate(gunX, gunY);
            
            // Gun body
            ctx.fillStyle = canShoot ? '#ff69b4' : '#888888'; // Gray when on cooldown
            ctx.fillRect(-20, -10, 40, 30);
            ctx.fillRect(-5, -30, 10, 20);
            
            // Gun heart decoration
            ctx.font = '25px Arial';
            ctx.fillText(canShoot ? 'üíï' : 'üñ§', -12, 5); // Black heart when cooling down
            
            // Crosshair
            ctx.strokeStyle = canShoot ? '#ff1493' : '#666666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, -50);
            ctx.lineTo(0, -35);
            ctx.stroke();
            
            ctx.restore();
        }

        // Spawn hearts at good frequency for medium difficulty
        function spawnHeart() {
            if (gameRunning && Math.random() < 0.12) { // Good spawn rate
                hearts.push(new Heart());
            }
        }

        // Check collision - more forgiving hitbox
        function checkCollision(fire, heart) {
            const dx = fire.x - heart.x;
            const dy = fire.y - heart.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            return distance < (fire.size + heart.size) / 1.8; // More forgiving
        }

        // Start game button
        const startGameBtn = document.getElementById('startGameBtn');
        startGameBtn.addEventListener('click', () => {
            startGameBtn.style.display = 'none';
            gameRunning = true;
            gameStarted = true;
            startTimer();
        });

        // Function to set teddy image - you can call this with your image URL
        function setTeddyImage(imageUrl) {
            const teddyImage = document.getElementById('teddyImage');
            const teddyPlaceholder = document.getElementById('teddyPlaceholder');
            
            teddyImage.src = imageUrl;
            teddyImage.style.display = 'block';
            teddyPlaceholder.style.display = 'none';
        }

        // Function to set question page image
        function setQuestionImage(imageUrl) {
            const questionImage = document.getElementById('questionImage');
            const questionPlaceholder = document.getElementById('questionPlaceholder');
            
            if (questionImage) {
                questionImage.src = imageUrl;
                questionImage.style.display = 'block';
                questionPlaceholder.style.display = 'none';
            } else {
                // Store for later when page is initialized
                window.questionImageUrl = imageUrl;
            }
        }

        // Function to set success page image
        function setSuccessImage(imageUrl) {
            const successImage = document.getElementById('successImage');
            const successPlaceholder = document.getElementById('successPlaceholder');
            
            successImage.src = imageUrl;
            successImage.style.display = 'block';
            successPlaceholder.style.display = 'none';
        }

        // ============================================
        // TO ADD YOUR IMAGES, UNCOMMENT AND UPDATE THESE LINES:
        // ============================================
        
        // Game Page - Teddy Image
         setTeddyImage('WhatsApp Image 2026-02-08 at 00.29.29.jpeg');
        
        // Question Page - "Will you be my Valentine?" Image
         setQuestionImage('WhatsApp Image 2026-02-08 at 00.29.30 (1).jpeg');
        
        // Success Page - "Yay!" Celebration Image
        setSuccessImage('WhatsApp Image 2026-02-08 at 00.29.30.jpeg');

        // Mouse movement
        canvas.addEventListener('mousemove', (e) => {
            if (!gameStarted) return;
            const rect = canvas.getBoundingClientRect();
            gunX = e.clientX - rect.left;
        });

        // Shoot on click
        canvas.addEventListener('click', (e) => {
            if (!gameRunning || !canShoot) return;
            fires.push(new Fire(gunX, gunY - 20));
            canShoot = false;
            setTimeout(() => { canShoot = true; }, shootCooldown);
        });

        // Touch support for mobile
        canvas.addEventListener('touchmove', (e) => {
            if (!gameStarted) return;
            e.preventDefault();
            const rect = canvas.getBoundingClientRect();
            const touch = e.touches[0];
            gunX = touch.clientX - rect.left;
        });

        canvas.addEventListener('touchstart', (e) => {
            if (!gameRunning || !canShoot) return;
            e.preventDefault();
            fires.push(new Fire(gunX, gunY - 20));
            canShoot = false;
            setTimeout(() => { canShoot = true; }, shootCooldown);
        });

        // Game loop
        function gameLoop() {
            // Clear canvas with a slight pink tint
            ctx.fillStyle = 'rgba(255, 240, 245, 0.3)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (gameRunning) {
                // Spawn hearts
                spawnHeart();

                // Update and draw hearts
                for (let i = hearts.length - 1; i >= 0; i--) {
                    hearts[i].update();
                    hearts[i].draw();

                    if (hearts[i].isOffScreen()) {
                        hearts.splice(i, 1);
                    }
                }

                // Update and draw fires
                for (let i = fires.length - 1; i >= 0; i--) {
                    fires[i].update();
                    fires[i].draw();

                    // Check collision with hearts
                    for (let j = hearts.length - 1; j >= 0; j--) {
                        if (checkCollision(fires[i], hearts[j])) {
                            score += hearts[j].points; // Use heart's point value
                            scoreElement.textContent = score;
                            
                            // Create more particles for big hearts
                            const particleCount = hearts[j].isBig ? 15 : 8;
                            for (let k = 0; k < particleCount; k++) {
                                particles.push(new Particle(hearts[j].x, hearts[j].y));
                            }
                            
                            hearts.splice(j, 1);
                            fires.splice(i, 1);
                            break;
                        }
                    }

                    if (fires[i] && fires[i].isOffScreen()) {
                        fires.splice(i, 1);
                    }
                }

                // Update and draw particles
                for (let i = particles.length - 1; i >= 0; i--) {
                    particles[i].update();
                    particles[i].draw();

                    if (particles[i].isDead()) {
                        particles.splice(i, 1);
                    }
                }

                // Draw the love gun
                drawGun();
            } else if (gameStarted) {
                // Still draw gun even when game is paused
                drawGun();
            }

            requestAnimationFrame(gameLoop);
        }

        // Timer countdown
        let timerInterval;
        function startTimer() {
            timerInterval = setInterval(() => {
                if (gameRunning) {
                    timeLeft--;
                    timerElement.textContent = timeLeft;

                    if (timeLeft <= 0) {
                        endGame();
                    }
                }
            }, 1000);
        }

        // End game
        function endGame() {
            gameRunning = false;
            clearInterval(timerInterval);
            
            // Calculate love percentage
            const lovePercentage = Math.min(100, Math.round((score / 100) * 100));
            
            // Show game over message with continue button
            const gameOverDiv = document.createElement('div');
            gameOverDiv.className = 'game-over-message';
            gameOverDiv.innerHTML = `
                Your Love Score: ${score} üíï<br>
                <div class="love-meter">
                    <div class="love-fill" style="width: ${lovePercentage}%"></div>
                </div>
                Love Level: ${lovePercentage}% üíñ<br>
                <button class="continue-btn" id="continueBtn">Continue! ‚û°Ô∏è</button>
            `;
            gameContainer.appendChild(gameOverDiv);

            // Add continue button functionality
            setTimeout(() => {
                const continueBtn = document.getElementById('continueBtn');
                continueBtn.addEventListener('click', () => {
                    gamePage.style.display = 'none';
                    questionPage.style.display = 'flex';
                    initializeQuestionPage(lovePercentage);
                });
            }, 100);
        }

        // Start game
        gameLoop();

        // Question Page Logic
        let yesBtn, noBtn, buttonsContainer;
        let yesBtnSize = 1;
        let noBtnAttempts = 0;
        const yesTexts = [
            'Yes! üíï',
            'Click me! üíñ',
            'Oye click me! üíó',
            'Plsssss! üíù',
            'Click here! üíì',
            'Yes yes yes! üíï'
        ];

        function initializeQuestionPage(loveLevel) {
            questionPage.innerHTML = `
                <div class="question-image-container">
                    <img src="" alt="Question" id="questionImage" style="display: none;" onerror="this.style.display='none'; document.getElementById('questionPlaceholder').style.display='flex';">
                    <div class="question-placeholder" id="questionPlaceholder">
                        <div class="bear">üß∏</div>
                        <div class="bear">üß∏</div>
                    </div>
                </div>
                <h1>Your love is ${loveLevel}% strong! üíï<br>Will you be my Valentine?</h1>
                <div class="buttons-container" id="buttonsContainer">
                    <button id="yesBtn">Yes! üíï</button>
                    <button id="noBtn">No</button>
                </div>
            `;

            // Set question image if available
            if (window.questionImageUrl) {
                setQuestionImage(window.questionImageUrl);
            }

            yesBtn = document.getElementById('yesBtn');
            noBtn = document.getElementById('noBtn');
            buttonsContainer = document.getElementById('buttonsContainer');

            // Function to move the No button
            function moveNoButton() {
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                const btnRect = noBtn.getBoundingClientRect();
                
                let randomX, randomY;
                
                do {
                    randomX = Math.random() * (viewportWidth - btnRect.width - 100) - (viewportWidth / 2 - btnRect.width / 2);
                    randomY = Math.random() * (viewportHeight - btnRect.height - 100) - (viewportHeight / 2 - btnRect.height / 2);
                } while (Math.abs(randomX) < 200 && Math.abs(randomY) < 100);
                
                noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
                
                noBtnAttempts++;
                yesBtnSize += 0.15;
                yesBtn.style.transform = `scale(${yesBtnSize})`;
                
                if (noBtnAttempts < yesTexts.length) {
                    yesBtn.textContent = yesTexts[noBtnAttempts];
                } else {
                    yesBtn.textContent = yesTexts[yesTexts.length - 1];
                }
            }

            noBtn.addEventListener('mouseenter', moveNoButton);
            noBtn.addEventListener('click', (e) => {
                e.preventDefault();
                moveNoButton();
            });
            noBtn.addEventListener('touchstart', (e) => {
                e.preventDefault();
                moveNoButton();
            });

            yesBtn.addEventListener('click', () => {
                questionPage.style.display = 'none';
                successPage.style.display = 'flex';
                createConfetti();
            });
        }

        // Create confetti animation
        function createConfetti() {
            const colors = ['#ff69b4', '#ff1493', '#ffc0cb', '#ffb3d9', '#ff85c1'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 2 + 's';
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 100);
            }
        }
    </script>
</body>
</html>
